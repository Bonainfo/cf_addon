<odoo>
     <template id="assets_frontend" inherit_id="website.assets_frontend" name="Helpdesk">
        <xpath expr="." position="inside">
            <script type="text/javascript" src="/website_helpdesk_system/static/src/js/main.js"></script>
            <link rel="stylesheet" type="text/css" href="/website_helpdesk_system/static/src/css/helpdesk.css"/>
        </xpath>
    </template>
    <template id="header" inherit_id="website.layout" name="Header Helpdesk Link">
        <xpath expr="//header//ul[@id='top_menu']/li" position="before">
            <li id="my_helpdesk">
                <a href="/helpdesk">
                    Helpdesk
                </a>
            </li>
        </xpath>
    </template>

     <template id="helpdesk_form" name="Helpdesk">
         <t t-call="website.layout">
            <div id="wrap">
                <div class="container oe_website_sale">
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2 oe_cart">
                        <h2> <center>Helpdesk and Support</center></h2>
                            <div class="row">
                                <form action="/helpdesk/validate" method="post" class="checkout_autoformat" enctype="multipart/form-data">
                                    <div t-attf-class="form-group #{error.get('name') and 'has-error' or ''} col-md-12 div_name">
                                        <label class="control-label" for="name">Customer Name</label>
                                        <input type="text" name="name" class="form-control" t-att-value="'name' in checkout and checkout['name']" />
                                    </div>
                                    <div class="clearfix" />
                                     <div t-attf-class="form-group #{error.get('email') and 'has-error' or ''} col-md-6" id="div_email">
                                        <label class="control-label" for="email">Email</label>
                                        <input type="email" name="email" class="form-control" t-att-value="'email' in checkout and checkout['email']" />
                                    </div>
                                    <div t-attf-class="form-group #{error.get('phone') and 'has-error' or ''} col-md-6" id="div_phone">
                                        <label class="control-label" for="phone">Phone</label>
                                        <input type="tel" name="phone" class="form-control" t-att-value="'phone' in checkout and checkout['phone']" />
                                    </div>
                                    <div class="clearfix" />
                                    <div t-attf-class="form-group #{error.get('category_id') and 'has-error' or ''} col-md-12 div_category">
                                        <label class="control-label" for="category_id">Category</label>
                                        <select id="category_id" name="category_id" class="form-control">
                                            <option value="">Category...</option>
                                            <t t-foreach="categories" t-as="c">
                                                <option t-att-value="c.id" t-att-selected="c.id == (category and category.id or -1)">
                                                    <t t-esc="c.name" />
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                    <div t-attf-class="form-group #{error.get('topic_id') and 'has-error' or ''} col-md-12 topic_id" t-att-style="(not category or not category.categories_topic_ids) and 'display: none'">
                                        <label class="control-label" for="topic_id">Topic</label>
                                        <select name="topic_id" class="form-control" data-init="1">
                                            <option value="">Topic...</option>
                                            <t t-foreach="category and category.categories_topic_ids" t-as="c">
                                                <option t-att-value="c.id" t-att-selected="c.id == (topic_id and topic_id.id or -1)">
                                                    <t t-esc="c.name" />
                                                </option>
                                            </t>
                                        </select>
                                    </div>

                                    <div t-attf-class="form-group #{error.get('subject') and 'has-error' or ''} col-md-12 div_name">
                                        <label class="control-label" for="name">Subject</label>
                                        <input type="text" name="subject" class="form-control" t-att-value="'subject' in checkout and checkout['subject']"/>
                                    </div>
                                    <div t-attf-class="form-group #{error.get('description') and 'has-error' or ''} col-md-12 div_name">
                                        <label class="control-label" for="name">Description</label>
                                        <textarea class="form-control o_website_form_input" placeholder="Describe in brief..."  name="description" t-att-value="'description' in checkout and checkout['description']"/>
                                    </div>
                                    <div class="input-group col-md-offset-1 col-md-10">
                                        <input name="attachment" type="file" class="file" multiple="true" data-show-upload="true" data-show-caption="true" lass="file" data-show-preview="true"/>
                                    </div>
                                    <input type="hidden" name="team_id" class="form-control" t-att-value="team_id" />
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                    <input type="hidden" name="submitted" value="1" />
                                    <input type="hidden" name="partner_id" t-att-value="partner_id or '0'" />
                                    <input type="hidden" name="callback" t-att-value="callback" />
                                    <script type="text/javascript" src="https://www.google.com/recaptcha/api.js"></script>
                                        <div class="col-md-12 wk_recaptcha_security_login form-group field-password" t-if ="recaptcha_security_enable">
                                            <!-- <hr/> -->
                                            <div class="row g-recaptcha" t-att-data-sitekey="env['ir.values'].sudo().get_default('helpdesk.config.settings', 'recaptcha_site_key')"/>
                                        </div>

                                    <div class="form-group">
                                        <div class="col-sm-10">
                                            <button type="submit" class="btn btn-primary">
                                                Submit 
                                            </button>
                                        </div>
                                    </div>
                                    
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="ticket_created" name="Helpdesk">
        <t t-call="website.layout">
            <div class="wrap">
                <div class="container">
                    <div class="jumbotron mt32">
                        <h4><span t-esc="title"/></h4>
                        <p><span t-esc="message"/></p>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>